# Simple Blog

### 介绍

一个简单的web博客程序
前后端合作的一个小项目



### 功能介绍

支持发布文章，修改文章，删除文章，查询文章，用户登录/注册，用户管理（增删查改）

| 模块 | 功能描述                                                     |
| ---- | ------------------------------------------------------------ |
| 文章 | 增加文章<br/>修改文章<br />删除文章<br />查询文章<br />将文章设置为私有<br />将文章添加到草稿箱 |
| 用户 | 用户注册：注册需要邮箱、用户名、密码（8-24 字母数字符号）<br />用户登陆：用户登录需要用户名/邮箱、密码<br />用户管理：增加、删除、修改、查询用户 |



### API

### 状态码

#### 全局

+ 000：失败
+ 100：成功

#### 文章

+ 201：缺少作者ID
+ 202：缺少文章标题
+ 203：文章ID不能为空
+ 204：文章ID不存在

#### 用户

+ 301：用户名不合法
+ 302：用户名不存在
+ 303：用户名已存在
+ 304：用户名不能为空
+ 305：密码不合法
+ 306：密码不能为空
+ 307：邮箱不合法
+ 308：邮箱不存在
+ 309：邮箱已存在
+ 310：邮箱不能为空
+ 311：昵称不能为空
+ 312：昵称已存在
+ 313：昵称不能为空
+ 314：用户类型不合法
+ 315：用户类型不能为空

#### 文章管理

##### 增加文章

请求地址：url/addPosts

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|  author  |  int   |  作者ID  |  是  |
|  title   | string | 文章标题 |  是  |
|   text   | string | 文章内容 |  否  |
| private  |  bool  | 是否私密 |  否  |
|  draft   |  bool  | 是否草稿 |  否  |

| 返回参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|  status  |  int   |  状态码  |  是  |
|   desc   | string | 状态解释 |  是  |
|    id    |  int   |  文章id  |  否  |

##### 删除文章

请求地址：url/deletePosts

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 | 类型 |   说明   | 必填 |
| :------: | :--: | :------: | :--: |
|    id    | int  | 文章标题 |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |

##### 修改文章

请求地址：url/modifyPosts

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|    id    |  int   |  文章ID  |  是  |
|  author  |  int   |  作者ID  |  是  |
|  title   | string | 文章标题 |  是  |
|   text   | string | 文章内容 |  否  |
| private  |  bool  | 是否私密 |  否  |
|  draft   |  bool  | 是否草稿 |  否  |

| 返回参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|  status  |  int   |  状态码  |  是  |
|   desc   | string | 状态描述 |  是  |

##### 查找文章

请求地址：url/getPosts

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 | 类型 |  说明  | 必填 |
| :------: | :--: | :----: | :--: |
|    id    | int  | 文章ID |  是  |

| 返回参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|  status  |  int   |  状态码  |  是  |
|   desc   | string | 状态描述 |  是  |
|  author  |  int   |  作者ID  |  是  |
|  title   | string | 文章标题 |  是  |
|   text   | string | 文章内容 |  是  |
| private  |  bool  | 是否私密 |  是  |
|  draft   |  bool  | 是否草稿 |  是  |

##### 列出文章

请求地址：url/listPosts

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 | 类型 | 说明 | 必填 |
| :------: | :--: | :--: | :--: |
|    无    |      |      |      |

| 返回参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
|  status  |  int   |  状态码  |  是  |
|   desc   | string | 状态描述 |  是  |
|  result  | array  | 文章数组 |  是  |

result 是一个数组类型，内容包括作者ID，文章标题，文章正文，是否私密，是否草稿箱。

#### 用户管理

##### 用户注册

请求地址：url/join

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 |  类型  |  说明  | 必填 |
| :------: | :----: | :----: | :--: |
| username | string | 用户名 |  是  |
| nickname | string |  昵称  |  是  |
| password | string |  密码  |  是  |
|   mail   | string |  邮箱  |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |
|    id    |  int   |   用户id   |  是  |

##### 用户登陆

请求地址：url/login

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

|   请求参数    |  类型  |       说明        | 必填 |
| :-----------: | :----: | :---------------: | :--: |
| username/mail | string | 用户名/邮箱二选一 |  是  |
|   password    | string |       密码        |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |

##### 新增用户

请求地址：url/addUser

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
| username | string |  用户名  |  是  |
| nickname | string |   昵称   |  是  |
| password | string |   密码   |  是  |
|   mail   | string |   邮箱   |  否  |
|   role   |  int   | 用户类型 |  否  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |
|    id    |  int   |   用户id   |  是  |

##### 删除用户

请求地址：url/deleteUser

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 返回参数 | 类型 |  说明  | 必填 |
| :------: | :--: | :----: | :--: |
|    id    | int  | 用户id |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |

##### 修改用户

请求地址：url/modifyUser

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 |  类型  |   说明   | 必填 |
| :------: | :----: | :------: | :--: |
| username | string |  用户名  |  是  |
| nickname | string |   昵称   |  是  |
| password | string |   密码   |  是  |
|   mail   | string |   邮箱   |  是  |
|   role   |  int   | 用户类型 |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |
|    id    |  int   |   用户id   |  是  |

##### 查询用户

请求地址：url/listUser

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 | 类型 |  说明  | 必填 |
| :------: | :--: | :----: | :--: |
|    id    | int  | 用户ID |  是  |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |
| username | string |   用户名   |  是  |
| nickname | string |    昵称    |  是  |
| password | string |    密码    |  是  |
|   mail   | string |    邮箱    |  是  |
|   role   |  int   |  用户类型  |  是  |

##### 列出用户

请求地址：url/listUser

请求协议：HTTP

请求方式：POST

请求格式：JSON

返回格式：JOSN

| 请求参数 | 类型 | 说明 | 必填 |
| :------: | :--: | :--: | :--: |
|    无    |      |      |      |

| 返回参数 |  类型  |    说明    | 必填 |
| :------: | :----: | :--------: | :--: |
|  status  |  int   |   状态码   |  是  |
|   desc   | string | 状态码描述 |  是  |
|  result  | array  |  用户数组  |  是  |

result 是用户数组，内容包括用户ID，用户名，用户昵称，用户邮箱，用户角色



### 其他

#### 版本

v 0.1

后面会根据需要修改这个文件

#### 任务分工

| 从属 |     任务     |  工作者  |
| :--: | :----------: | :------: |
| 前端 |              |          |
| 前端 |              |          |
| 后端 | 文章管理模块 |   moyu   |
| 后端 | 用户管理模块 | Ackerven |

#### 任务时间

前端：待定

后端：2021/05/01 - 2021/05/15 19:00

#### 提交方式

提交源码以及 gitee 仓库地址。

#### 特别说明

+ 数据库名字别搞混，别覆盖他人的数据
+ 超时后拒收补交

#### 代码规范

见 [代码规范](代码规范.md) 

